# Example genv.config.yaml for monorepo with shared variables

# Shared variables that can be referenced across all apps
shared:
  variables:
    DATABASE_HOST: localhost
    DATABASE_PORT: "5432"
    API_URL: https://api.example.com
    REDIS_HOST: localhost
    REDIS_PORT: "6379"

# Apps in the monorepo
apps:
  # Frontend app
  frontend:
    environments:
      development:
        NODE_ENV: development
        VITE_API_URL: ${shared:API_URL}
        VITE_APP_NAME: My App Dev
        VITE_DEBUG: "true"
      staging:
        NODE_ENV: production
        VITE_API_URL: ${shared:API_URL}
        VITE_APP_NAME: My App Staging
        VITE_DEBUG: "false"
      production:
        NODE_ENV: production
        VITE_API_URL: ${shared:API_URL}
        VITE_APP_NAME: My App
        VITE_DEBUG: "false"

  # Backend app
  backend:
    environments:
      development:
        NODE_ENV: development
        DATABASE_URL: postgres://user:pass@${shared:DATABASE_HOST}:${shared:DATABASE_PORT}/mydb_dev
        REDIS_URL: redis://${shared:REDIS_HOST}:${shared:REDIS_PORT}
        API_PORT: "3000"
        LOG_LEVEL: debug
      staging:
        NODE_ENV: production
        DATABASE_URL: postgres://user:pass@${shared:DATABASE_HOST}:${shared:DATABASE_PORT}/mydb_staging
        REDIS_URL: redis://${shared:REDIS_HOST}:${shared:REDIS_PORT}
        API_PORT: "3000"
        LOG_LEVEL: info
      production:
        NODE_ENV: production
        DATABASE_URL: postgres://user:pass@${shared:DATABASE_HOST}:${shared:DATABASE_PORT}/mydb_prod
        REDIS_URL: redis://${shared:REDIS_HOST}:${shared:REDIS_PORT}
        API_PORT: "3000"
        LOG_LEVEL: warn

  # Mobile app
  mobile:
    environments:
      development:
        API_BASE_URL: ${shared:API_URL}
        APP_ENV: development
      production:
        API_BASE_URL: ${shared:API_URL}
        APP_ENV: production

